2020-09-07 11:17:45,664 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 1 hosts
2020-09-07 11:17:50,719 - nornir.core.task -    ERROR -      start() - Host 'R3_CSR': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-07 11:21:07,028 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 1 hosts
2020-09-07 11:21:12,088 - nornir.core.task -    ERROR -      start() - Host 'R3_CSR': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-07 11:21:36,906 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 1 hosts
2020-09-07 11:22:57,408 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 1 hosts
2020-09-07 16:24:12,772 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 1 hosts
2020-09-07 16:24:23,513 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 1 hosts
2020-09-07 16:25:34,368 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 1 hosts
2020-09-07 16:26:49,671 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 1 hosts
2020-09-07 16:55:46,788 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 20:41:11,720 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 20:41:19,223 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 20:41:20,145 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-08 20:43:05,720 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 20:43:10,819 - nornir.core.task -    ERROR -      start() - Host 'R3_CSR': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-08 20:43:14,611 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 20:43:15,532 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-08 20:58:52,148 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 20:58:57,976 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 20:58:58,886 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-08 21:00:32,551 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 21:00:38,284 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 21:00:39,195 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-08 21:01:33,469 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 21:01:39,029 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-08 21:01:52,010 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 21:01:57,719 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-08 21:05:29,568 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 21:05:35,296 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-08 21:14:27,197 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 21:14:32,855 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-08 21:44:32,936 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 21:44:40,423 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-08 22:01:15,527 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 22:03:19,636 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 22:23:37,381 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 22:24:33,169 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-08 22:24:38,908 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-08 22:27:03,908 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-09 10:23:20,425 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 10:23:20,427 - nornir.core.task -    ERROR -      start() - Host 'R2_SROS': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 13, in get_interfaces
    if task.host['platform'] == 'ios':
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 153, in __getitem__
    return self.data[item]
KeyError: 'platform'

2020-09-09 10:23:20,427 - nornir.core.task -    ERROR -      start() - Host 'R3_CSR': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 13, in get_interfaces
    if task.host['platform'] == 'ios':
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 153, in __getitem__
    return self.data[item]
KeyError: 'platform'

2020-09-09 10:24:14,316 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 10:24:14,317 - nornir.core.task -    ERROR -      start() - Host 'R3_CSR': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 13, in get_interfaces
    if task.host.groups['platform'] == 'ios':
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/collections/__init__.py", line 1074, in __getitem__
    return self.data[i]
TypeError: list indices must be integers or slices, not str

2020-09-09 10:24:14,317 - nornir.core.task -    ERROR -      start() - Host 'R2_SROS': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 13, in get_interfaces
    if task.host.groups['platform'] == 'ios':
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/collections/__init__.py", line 1074, in __getitem__
    return self.data[i]
TypeError: list indices must be integers or slices, not str

2020-09-09 10:24:56,385 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 10:24:56,388 - nornir.core.task -    ERROR -      start() - Host 'R2_SROS': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 13, in get_interfaces
    if task.host.groups['platform'] == 'ios':
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/collections/__init__.py", line 1074, in __getitem__
    return self.data[i]
TypeError: list indices must be integers or slices, not str

2020-09-09 10:24:56,389 - nornir.core.task -    ERROR -      start() - Host 'R3_CSR': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 13, in get_interfaces
    if task.host.groups['platform'] == 'ios':
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/collections/__init__.py", line 1074, in __getitem__
    return self.data[i]
TypeError: list indices must be integers or slices, not str

2020-09-09 10:26:32,513 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 10:26:45,805 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 10:26:59,846 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 10:27:15,049 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 10:27:15,050 - nornir.core.task -    ERROR -      start() - Host 'R3_CSR': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 13, in get_interfaces
    print(task.groups)
AttributeError: 'Task' object has no attribute 'groups'

2020-09-09 10:27:15,051 - nornir.core.task -    ERROR -      start() - Host 'R2_SROS': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 13, in get_interfaces
    print(task.groups)
AttributeError: 'Task' object has no attribute 'groups'

2020-09-09 10:27:35,851 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 10:28:31,446 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 11:03:30,572 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 11:24:33,570 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 11:25:28,333 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 11:25:28,334 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-09 11:25:28,334 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-09 11:26:11,060 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 11:46:27,488 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 11:46:27,489 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show router interface'} on 2 hosts
2020-09-09 11:46:27,489 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-09 11:47:12,507 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 11:47:12,508 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-09 11:54:51,993 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 11:54:51,994 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-09 12:39:00,255 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 12:39:00,256 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'sh ip int brief'} on 2 hosts
2020-09-09 15:18:20,399 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 15:18:21,209 - nornir.core.task -    ERROR -      start() - Host 'R3_CSR': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 11, in get_interfaces
    print_result(result)
NameError: name 'result' is not defined

2020-09-09 15:18:29,253 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 15:19:09,534 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 15:22:49,910 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 15:23:26,128 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-09 15:58:21,608 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 3 hosts
2020-09-09 15:58:56,469 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 3 hosts
2020-09-09 15:59:16,858 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 3 hosts
2020-09-09 15:59:40,389 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 3 hosts
2020-09-10 11:12:21,150 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 3 hosts
2020-09-10 11:13:31,358 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 3 hosts
2020-09-10 11:47:08,083 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 3 hosts
2020-09-10 11:47:25,681 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 3 hosts
2020-09-10 12:24:46,527 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 3 hosts
2020-09-10 12:25:27,203 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 3 hosts
2020-09-10 14:40:43,786 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 5 hosts
2020-09-10 14:40:44,406 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 406, in connect
    t.start_client(timeout=timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2083, in run
    self._handler_table[ptype](self, m)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2198, in _negotiate_keys
    self._parse_kex_init(m)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2377, in _parse_kex_init
    raise SSHException(
paramiko.ssh_exception.SSHException: Incompatible ssh peer (no acceptable host key)

2020-09-10 14:40:44,408 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 11, in get_interfaces
    r = task.run(netmiko_send_command, command_string="sh ip int brief")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netmiko_send_command at 0x7fed3e7fea60> (failed)


2020-09-10 15:07:20,644 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 5 hosts
2020-09-10 15:07:25,791 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-10 15:07:25,792 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 15, in get_interfaces
    r = task.run(netmiko_send_command, command_string="show router interface")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netmiko_send_command at 0x7f9c2e74ea60> (failed)


2020-09-10 15:15:13,036 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 5 hosts
2020-09-10 15:15:18,111 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-10 15:15:18,112 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 19, in get_interfaces
    r = task.run(netmiko_send_command, command_string="show router interface")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netmiko_send_command at 0x7f8d00835a60> (failed)


2020-09-10 15:28:17,758 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 5 hosts
2020-09-10 15:28:17,761 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 19, in get_interfaces
    r = west_region.run(netmiko_send_command, command_string="show router interface")
AttributeError: 'dict_keys' object has no attribute 'run'

2020-09-10 15:28:17,762 - nornir.core.task -    ERROR -      start() - Host 'R2_SROS': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 19, in get_interfaces
    r = west_region.run(netmiko_send_command, command_string="show router interface")
AttributeError: 'dict_keys' object has no attribute 'run'

2020-09-10 15:28:17,761 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 15, in get_interfaces
    r = west_region.run(netmiko_send_command, command_string="sh ip int brief")
AttributeError: 'dict_keys' object has no attribute 'run'

2020-09-10 15:29:32,059 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 5 hosts
2020-09-10 15:29:32,063 - nornir.core.task -    ERROR -      start() - Host 'R2_SROS': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 20, in get_interfaces
    r = west_region.run(netmiko_send_command, command_string="show router interface")
AttributeError: 'dict_keys' object has no attribute 'run'

2020-09-10 15:29:32,063 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 16, in get_interfaces
    r = west_region.run(netmiko_send_command, command_string="sh ip int brief")
AttributeError: 'dict_keys' object has no attribute 'run'

2020-09-10 15:29:32,064 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 20, in get_interfaces
    r = west_region.run(netmiko_send_command, command_string="show router interface")
AttributeError: 'dict_keys' object has no attribute 'run'

2020-09-10 15:31:13,940 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-10 15:31:19,001 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-10 15:31:19,002 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'get_interfaces' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 19, in get_interfaces
    r = task.run(netmiko_send_command, command_string="show router interface")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netmiko_send_command at 0x7f8dbafeaaf0> (failed)


2020-09-10 15:32:17,471 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-10 16:15:50,033 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-10 16:36:10,508 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-10 16:41:07,353 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-10 16:41:13,229 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:41:13,239 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'vars/R8_IOSXR_PE_vrfs.yaml'

2020-09-10 16:41:13,239 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'vars/R3_SROS_PE_vrfs.yaml'

2020-09-10 16:41:13,240 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_deploy' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in iac_deploy
    task1_result = task.run(task=load_yaml, file=vars_file)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function load_yaml at 0x7fb50bd88160> (failed)


2020-09-10 16:41:13,240 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_deploy' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in iac_deploy
    task1_result = task.run(task=load_yaml, file=vars_file)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function load_yaml at 0x7fb50bd88160> (failed)


2020-09-10 16:42:00,363 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-10 16:42:06,261 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:42:06,269 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'vars/R8_IOSXR_PE_vrfs.yaml'

2020-09-10 16:42:06,269 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'vars/R3_SROS_PE_vrfs.yaml'

2020-09-10 16:42:06,270 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_deploy' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in iac_deploy
    task1_result = task.run(task=load_yaml, file=vars_file)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function load_yaml at 0x7f8729698160> (failed)


2020-09-10 16:42:06,270 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_deploy' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in iac_deploy
    task1_result = task.run(task=load_yaml, file=vars_file)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function load_yaml at 0x7f8729698160> (failed)


2020-09-10 16:42:19,944 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-10 16:42:25,937 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:42:25,939 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'vars/R8_IOSXR_PE_vrfs.yml'

2020-09-10 16:42:25,940 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'vars/R3_SROS_PE_vrfs.yml'

2020-09-10 16:42:25,941 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_deploy' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in iac_deploy
    task1_result = task.run(task=load_yaml, file=vars_file)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function load_yaml at 0x7fe9c5788160> (failed)


2020-09-10 16:42:25,942 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_deploy' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in iac_deploy
    task1_result = task.run(task=load_yaml, file=vars_file)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function load_yaml at 0x7fe9c5788160> (failed)


2020-09-10 16:43:24,142 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-10 16:43:30,099 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:43:30,101 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'vars/R3_SROS_PE_vrfs.yml'

2020-09-10 16:43:30,101 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'vars/R8_IOSXR_PE_vrfs.yml'

2020-09-10 16:43:30,102 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_deploy' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in iac_deploy
    task1_result = task.run(task=load_yaml, file=vars_file)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function load_yaml at 0x7fae34fc9160> (failed)


2020-09-10 16:43:30,102 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_deploy' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in iac_deploy
    task1_result = task.run(task=load_yaml, file=vars_file)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function load_yaml at 0x7fae34fc9160> (failed)


2020-09-10 16:44:19,479 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:44:19,482 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'vars/R8_IOSXR_PE_vrfs.yml'

2020-09-10 16:44:19,482 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'vars/R3_SROS_PE_vrfs.yml'

2020-09-10 16:44:19,483 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_deploy' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 32, in iac_deploy
    task1_result = task.run(task=load_yaml, file=vars_file)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function load_yaml at 0x7f920d820160> (failed)


2020-09-10 16:44:19,483 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_deploy' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 32, in iac_deploy
    task1_result = task.run(task=load_yaml, file=vars_file)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function load_yaml at 0x7f920d820160> (failed)


2020-09-10 16:44:37,792 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:45:34,647 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:45:51,137 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:45:59,390 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:56:20,070 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:58:05,620 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 16:59:49,817 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 17:00:16,771 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 17:00:41,184 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 17:00:58,425 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 17:01:27,160 -  nornir.core -     INFO -        run() - Running task 'iac_deploy' with args {} on 2 hosts
2020-09-10 17:08:00,537 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:08:35,772 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-10 17:08:41,680 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:08:41,689 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:08:41,701 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:08:41,702 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:08:41,704 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_render
    vrf = task.run(task=template_file, template=f"{task.host.platform}-vrf.j2",
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7faac6820310> (failed)


2020-09-10 17:08:41,704 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_render
    vrf = task.run(task=template_file, template=f"{task.host.platform}-vrf.j2",
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7faac6820310> (failed)


2020-09-10 17:09:04,154 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:09:04,159 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:09:04,168 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:09:04,170 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:09:04,171 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_render
    vrf = task.run(task=template_file, template=f"{task.host.platform}-vrf.j2",
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa2c9789310> (failed)


2020-09-10 17:09:04,172 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_render
    vrf = task.run(task=template_file, template=f"{task.host.platform}-vrf.j2",
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa2c9789310> (failed)


2020-09-10 17:09:16,756 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:09:16,758 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:09:16,764 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:09:16,764 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_render
    vrf = task.run(task=template_file, template=f"{task.host.platform}-vrf.j2",
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f8b7a68e310> (failed)


2020-09-10 17:09:16,764 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:09:16,764 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_render
    vrf = task.run(task=template_file, template=f"{task.host.platform}-vrf.j2",
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f8b7a68e310> (failed)


2020-09-10 17:10:28,415 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:10:28,417 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:10:28,423 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:10:28,424 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 36, in iac_render
    vrf = task.run(task=template_file, template=template,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ff3ede5c310> (failed)


2020-09-10 17:10:28,424 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:10:28,425 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 36, in iac_render
    vrf = task.run(task=template_file, template=template,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ff3ede5c310> (failed)


2020-09-10 17:11:17,826 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:11:17,829 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:11:17,835 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:11:17,836 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:11:17,836 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 36, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe53b7e0310> (failed)


2020-09-10 17:11:17,836 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 36, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe53b7e0310> (failed)


2020-09-10 17:12:47,236 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:12:47,249 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:12:47,249 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:12:47,250 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f8298798310> (failed)


2020-09-10 17:12:47,250 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f8298798310> (failed)


2020-09-10 17:13:09,603 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:13:09,615 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:13:09,616 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f90dae53310> (failed)


2020-09-10 17:13:09,617 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:13:09,617 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f90dae53310> (failed)


2020-09-10 17:14:03,681 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:14:03,688 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:14:03,688 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe7f0120310> (failed)


2020-09-10 17:14:03,689 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:14:03,689 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe7f0120310> (failed)


2020-09-10 17:14:23,654 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:14:23,662 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:14:23,662 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f9b157c4310> (failed)


2020-09-10 17:14:23,662 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:14:23,663 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f9b157c4310> (failed)


2020-09-10 17:14:36,066 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:14:36,075 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:14:36,075 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fce2de98310> (failed)


2020-09-10 17:14:36,076 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:14:36,076 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fce2de98310> (failed)


2020-09-10 17:14:46,116 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:14:46,125 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:14:46,125 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:14:46,126 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fcef268f310> (failed)


2020-09-10 17:14:46,126 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 32, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fcef268f310> (failed)


2020-09-10 17:15:40,217 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:15:40,225 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:15:40,225 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:15:40,225 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 31, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f8ab5fc4310> (failed)


2020-09-10 17:15:40,226 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 31, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f8ab5fc4310> (failed)


2020-09-10 17:16:27,063 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:16:27,075 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:16:27,075 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:16:27,075 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 31, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fd597697310> (failed)


2020-09-10 17:16:27,076 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 31, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fd597697310> (failed)


2020-09-10 17:16:41,581 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:16:41,589 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:16:41,590 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 31, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ff31b01b310> (failed)


2020-09-10 17:16:41,591 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:16:41,591 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 31, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ff31b01b310> (failed)


2020-09-10 17:18:00,418 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:18:00,434 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:18:00,435 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:18:00,435 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 31, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fad46f4d310> (failed)


2020-09-10 17:18:00,435 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 31, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fad46f4d310> (failed)


2020-09-10 17:18:49,006 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:18:49,019 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:18:49,019 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:18:49,020 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 31, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f8892820310> (failed)


2020-09-10 17:18:49,020 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 31, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f8892820310> (failed)


2020-09-10 17:19:29,815 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:19:29,826 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:19:29,829 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 39, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fd25c788310> (failed)


2020-09-10 17:19:29,829 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:19:29,830 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 39, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fd25c788310> (failed)


2020-09-10 17:20:06,231 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:20:06,238 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:20:06,238 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    test = iac_render(task)
  File "norconf.py", line 40, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f9303e86310> (failed)


2020-09-10 17:20:06,239 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:20:06,239 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    test = iac_render(task)
  File "norconf.py", line 40, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f9303e86310> (failed)


2020-09-10 17:20:18,250 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:20:18,258 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:20:18,258 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:20:18,258 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    test = iac_render(task)
  File "norconf.py", line 40, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f85ddf8d310> (failed)


2020-09-10 17:20:18,259 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    test = iac_render(task)
  File "norconf.py", line 40, in iac_render
    vrf = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f85ddf8d310> (failed)


2020-09-10 17:23:46,192 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:23:46,205 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:23:46,205 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:23:46,206 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 41, in iac_render
    r = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa0d3e98310> (failed)


2020-09-10 17:23:46,206 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 41, in iac_render
    r = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa0d3e98310> (failed)


2020-09-10 17:24:20,686 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:24:20,699 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:24:20,700 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 41, in iac_render
    r = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fc6b47c9310> (failed)


2020-09-10 17:24:20,700 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:24:20,701 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 41, in iac_render
    r = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fc6b47c9310> (failed)


2020-09-10 17:24:36,471 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:24:36,480 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:24:36,480 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:24:36,481 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 41, in iac_render
    r = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f92e781a310> (failed)


2020-09-10 17:24:36,481 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 41, in iac_render
    r = task.run(task=template_file, template=template, path='templates/')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f92e781a310> (failed)


2020-09-10 17:25:48,952 -  nornir.core -     INFO -        run() - Running task 'iac_load_yaml' with args {} on 2 hosts
2020-09-10 17:25:48,959 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:25:48,960 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:25:48,960 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 41, in iac_render
    r = task.run(task=template_file, template=template, path='templates')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe643fc4310> (failed)


2020-09-10 17:25:48,961 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 34, in iac_load_yaml
    iac_render(task)
  File "norconf.py", line 41, in iac_render
    r = task.run(task=template_file, template=template, path='templates')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe643fc4310> (failed)


2020-09-10 17:26:56,090 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:26:56,101 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:26:56,101 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:26:56,102 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 36, in iac_render
    r = task.run(task=template_file, template=template, path='templates')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fb58bff7310> (failed)


2020-09-10 17:26:56,102 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 36, in iac_render
    r = task.run(task=template_file, template=template, path='templates')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fb58bff7310> (failed)


2020-09-10 17:27:10,346 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:27:10,368 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:27:10,368 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:27:10,369 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 36, in iac_render
    task.run(task=template_file, template=template, path='templates')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ffab4788310> (failed)


2020-09-10 17:27:10,369 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 36, in iac_render
    task.run(task=template_file, template=template, path='templates')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ffab4788310> (failed)


2020-09-10 17:27:39,109 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:27:39,118 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:27:39,118 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    task.run(task=template_file, template=template, path='templates', data=vars_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f840081b310> (failed)


2020-09-10 17:27:39,119 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:27:39,119 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    task.run(task=template_file, template=template, path='templates', data=vars_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f840081b310> (failed)


2020-09-10 17:27:57,300 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:27:57,305 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:27:57,305 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j2 = task.run(task=template_file, template=template, path='templates', data=vars_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa45981b310> (failed)


2020-09-10 17:27:57,313 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:27:57,313 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j2 = task.run(task=template_file, template=template, path='templates', data=vars_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa45981b310> (failed)


2020-09-10 17:28:06,253 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:28:06,262 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:28:06,263 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j2 = task.run(task=template_file, template=template, path='templates', data=vars_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fcefd120310> (failed)


2020-09-10 17:28:06,263 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:28:06,263 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j2 = task.run(task=template_file, template=template, path='templates', data=vars_data)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fcefd120310> (failed)


2020-09-10 17:28:41,492 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:28:41,498 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:28:41,499 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j2 = task.run(task=template_file, template=template, path='templates', data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fdda511a310> (failed)


2020-09-10 17:28:41,499 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:28:41,499 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j2 = task.run(task=template_file, template=template, path='templates', data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fdda511a310> (failed)


2020-09-10 17:29:31,685 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:29:31,688 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 37, in iac_render
    print(vars_data.result[0])
KeyError: 0

2020-09-10 17:29:31,689 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 37, in iac_render
    print(vars_data.result[0])
KeyError: 0

2020-09-10 17:29:36,714 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:29:36,723 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:29:36,726 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    j2 = task.run(task=template_file, template=template, path='templates', data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe7157d7310> (failed)


2020-09-10 17:29:36,728 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:29:36,729 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    j2 = task.run(task=template_file, template=template, path='templates', data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe7157d7310> (failed)


2020-09-10 17:31:12,319 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:31:12,326 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:31:12,327 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:31:12,327 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j2 = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fc998820310> (failed)


2020-09-10 17:31:12,327 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j2 = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fc998820310> (failed)


2020-09-10 17:31:18,280 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:31:18,293 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:31:18,294 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j2 = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7faa94fdc310> (failed)


2020-09-10 17:31:18,294 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:31:18,295 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j2 = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7faa94fdc310> (failed)


2020-09-10 17:31:24,863 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:31:24,872 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:31:24,872 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa6d581a310> (failed)


2020-09-10 17:31:24,873 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:31:24,873 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa6d581a310> (failed)


2020-09-10 17:34:02,727 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:34:02,740 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:34:02,740 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:34:02,741 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    j = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe816fee310> (failed)


2020-09-10 17:34:02,741 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    j = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe816fee310> (failed)


2020-09-10 17:38:20,364 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:38:20,375 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:38:20,376 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fdcda01b310> (failed)


2020-09-10 17:38:20,376 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:38:20,376 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fdcda01b310> (failed)


2020-09-10 17:39:25,147 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:39:25,163 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:39:25,164 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 22, in render_from_file
    t = env.get_template(template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 830, in get_template
    return self._load_template(name, self.make_globals(globals))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 804, in _load_template
    template = self.loader.load(self, name, globals)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 113, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/loaders.py", line 187, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: iosxr-vrf.j2

2020-09-10 17:39:25,164 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fc5b9020310> (failed)


2020-09-10 17:39:25,165 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fc5b9020310> (failed)


2020-09-10 17:39:55,171 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:39:55,180 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:39:55,181 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fc015820310> (failed)


2020-09-10 17:40:25,228 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:40:25,238 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:40:25,238 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates', template=template, data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7faecc6e0310> (failed)


2020-09-10 17:42:06,428 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:42:06,434 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:42:06,434 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates', template=template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fcd9cff1310> (failed)


2020-09-10 17:42:27,898 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:42:27,905 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:42:27,905 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates', template=template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fadd6920310> (failed)


2020-09-10 17:43:18,736 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:43:18,743 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:43:18,743 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa59978d310> (failed)


2020-09-10 17:43:54,708 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:43:54,718 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:43:54,718 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ffa3b788310> (failed)


2020-09-10 17:44:41,808 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:44:41,819 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:44:41,819 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template,data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fc986eef310> (failed)


2020-09-10 17:44:48,965 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:44:48,974 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:44:48,974 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template,data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fbf85f88310> (failed)


2020-09-10 17:45:53,549 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:45:53,565 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 1, in <module>
    <vprn>
jinja2.exceptions.UndefinedError: 'SERVICE_NAME' is undefined

2020-09-10 17:45:53,566 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template,data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa7247e0310> (failed)


2020-09-10 17:46:09,125 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:46:09,138 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 3, in <module>
    AYY FOO {{ASN}}
jinja2.exceptions.UndefinedError: 'ASN' is undefined

2020-09-10 17:46:09,138 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template,data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ff6d775d310> (failed)


2020-09-10 17:46:57,557 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:46:57,567 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 3, in <module>
    AYY FOO {{ASN}}
jinja2.exceptions.UndefinedError: 'ASN' is undefined

2020-09-10 17:46:57,567 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template,data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa6d0f4d310> (failed)


2020-09-10 17:47:11,015 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:47:11,021 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 3, in <module>
    AYY FOO {{ASN}}
jinja2.exceptions.UndefinedError: 'ASN' is undefined

2020-09-10 17:47:11,022 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template,data=vars_data.result)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fc0ecf5b310> (failed)


2020-09-10 17:47:41,125 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:47:41,128 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    print(j)
NameError: name 'j' is not defined

2020-09-10 17:47:41,128 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    print(j)
NameError: name 'j' is not defined

2020-09-10 17:48:04,938 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:48:04,940 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 33, in iac_render
    print(vars_data.result['VRF'])
KeyError: 'VRF'

2020-09-10 17:48:32,280 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:48:58,094 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:48:58,108 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 3, in <module>
    AYY FOO {{ASN}}
jinja2.exceptions.UndefinedError: 'ASN' is undefined

2020-09-10 17:48:58,109 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template,data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fbf60020310> (failed)


2020-09-10 17:49:29,742 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:49:29,750 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 3, in <module>
    AYY FOO {{ASN}}
jinja2.exceptions.UndefinedError: 'ASN' is undefined

2020-09-10 17:49:29,750 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 3, in <module>
    AYY FOO {{ASN}}
jinja2.exceptions.UndefinedError: 'ASN' is undefined

2020-09-10 17:49:29,750 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template,data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ff4ad6da310> (failed)


2020-09-10 17:49:29,750 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    j = task.run(task=template_file, path='templates/', template=template,data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ff4ad6da310> (failed)


2020-09-10 17:52:01,210 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:57:51,732 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:59:02,817 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-10 17:59:35,203 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 2 hosts
2020-09-10 17:59:43,150 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-11 09:34:51,035 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 09:34:56,894 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:11:25,052 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:11:30,957 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:14:15,654 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:14:21,475 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:14:35,175 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:14:40,985 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:45:35,507 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:45:42,906 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:45:42,928 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 10:45:43,655 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_get' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_get.py", line 40, in netconf_get
    result = manager.get(**params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/retrieve.py", line 91, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            An unexpected attribute is present.
        

2020-09-11 10:45:43,655 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 42, in nc_config
    r = task.run(task=netconf_get, path='//service')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_get at 0x7fad32000820> (failed)


2020-09-11 10:47:14,804 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:47:20,657 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:47:20,670 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 10:48:56,808 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:49:02,615 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:49:02,657 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 10:49:03,330 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_get' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_get.py", line 40, in netconf_get
    result = manager.get(**params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/retrieve.py", line 91, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            An unexpected attribute is present.
        

2020-09-11 10:49:03,331 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 42, in nc_config
    r = task.run(task=netconf_get, path='//configure')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_get at 0x7ffba4dce820> (failed)


2020-09-11 10:49:50,340 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:49:56,189 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:49:56,198 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 10:50:00,900 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 45, in nc_config
    print(dict_service['configure']['service'])
KeyError: 'configure'

2020-09-11 10:52:06,868 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:52:12,729 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:52:12,744 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 10:52:17,367 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 45, in nc_config
    print(dict_service['configure']['service']['vprn'])
KeyError: 'configure'

2020-09-11 10:52:33,925 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:52:39,757 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:52:39,768 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 10:52:40,642 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 45, in nc_config
    print(dict_service['configure']['service']['vprn'])
KeyError: 'configure'

2020-09-11 10:53:31,446 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:53:37,275 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:53:37,291 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 10:53:38,277 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 45, in nc_config
    print(dict_service['service']['vprn'])
KeyError: 'service'

2020-09-11 10:54:38,917 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:54:44,797 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:54:44,810 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 10:54:45,804 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 45, in nc_config
    print(dict_service.get_keys())
AttributeError: 'collections.OrderedDict' object has no attribute 'get_keys'

2020-09-11 10:55:52,220 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:55:58,066 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:55:58,080 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 10:56:18,794 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:56:24,754 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:56:24,768 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 10:56:39,605 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 10:56:45,449 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 10:56:45,462 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 11:15:55,205 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 11:16:01,094 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:16:01,107 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 11:16:02,120 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 47, in nc_config
    customers = dict_config['data']['configure']['service']['customers']
KeyError: 'customers'

2020-09-11 11:16:45,528 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 11:16:51,406 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:16:51,419 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 11:17:30,993 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 11:17:36,881 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:17:36,895 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 11:18:43,297 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 11:18:49,126 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:18:49,138 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 11:20:02,669 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 11:20:08,513 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:20:08,525 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 11:20:15,218 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 11:20:21,079 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:20:21,092 -  nornir.core -     INFO -        run() - Running task 'nc_config' with args {} on 1 hosts
2020-09-11 11:24:18,044 -  nornir.core -     INFO -        run() - Running task 'get_interfaces' with args {} on 1 hosts
2020-09-11 11:24:23,920 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:37:32,466 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:37:33,060 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 11:37:33,060 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_render
    task3_result = task.run(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7ffa22811700> (failed)


2020-09-11 11:38:10,879 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:38:11,426 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 11:38:11,428 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_render
    task3_result = task.run(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7ff0f970c700> (failed)


2020-09-11 11:38:49,570 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:38:50,166 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 11:38:50,166 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_render
    task3_result = task.run(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f986e8c75e0> (failed)


2020-09-11 11:43:20,553 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:43:21,199 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 11:43:21,200 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_render
    task3_result = task.run(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fbe96dd7700> (failed)


2020-09-11 11:45:05,433 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 11:45:06,030 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 20, in netconf_edit_config
    manager.edit_config(config, target=target)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 11:45:06,031 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f8359004790> (failed)


2020-09-11 11:45:14,069 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 13:53:19,662 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 13:53:19,677 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/alcatel_sros-vrf.j2", line 11, in <module>
    <service-id>{{VRD.SERVICE_ID}}</service-id>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRD' is undefined

2020-09-11 13:53:19,678 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 38, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template,data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fa28369b310> (failed)


2020-09-11 13:53:29,058 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 13:53:44,190 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 13:53:44,190 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fde25fff790> (failed)


2020-09-11 13:54:31,068 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 13:54:46,182 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 13:54:46,182 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fb13f004790> (failed)


2020-09-11 14:01:57,414 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 14:02:12,538 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 14:02:12,540 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fc99efdb790> (failed)


2020-09-11 14:02:27,730 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:07:02,646 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:07:20,029 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:08:13,112 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:08:13,125 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config(target=task.host['target']), config=vprn)
TypeError: netconf_edit_config() missing 2 required positional arguments: 'task' and 'config'

2020-09-11 20:09:17,795 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:09:17,801 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config(target=task.host['target'], config=vprn))
TypeError: netconf_edit_config() missing 1 required positional argument: 'task'

2020-09-11 20:09:35,862 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:09:50,978 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config(task,target=task.host['target'], config=vprn))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 20:12:53,616 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:12:53,621 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config(target=task.host['target'], config=vprn))
TypeError: netconf_edit_config() missing 1 required positional argument: 'task'

2020-09-11 20:16:45,916 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:17:01,045 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 20:17:01,045 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fb1c8104790> (failed)


2020-09-11 20:19:26,205 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:19:41,237 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 20:19:41,237 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fcd86edb790> (failed)


2020-09-11 20:20:33,037 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:26:33,369 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:26:48,401 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 20:26:48,401 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fca27804790> (failed)


2020-09-11 20:40:24,536 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:40:39,633 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 20:40:39,634 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fa861fc1790> (failed)


2020-09-11 20:40:59,124 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:41:14,240 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 20:41:14,241 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fb268804790> (failed)


2020-09-11 20:41:14,243 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:41:25,101 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:41:25,108 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:41:40,135 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_get_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_get_config.py", line 46, in netconf_get_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 20:41:40,136 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_getconfig' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in nc_getconfig
    r = task.run(task=netconf_get_config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_get_config at 0x7fd17f7028b0> (failed)


2020-09-11 20:44:29,074 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:44:29,083 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:44:44,122 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_get_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_get_config.py", line 46, in netconf_get_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 20:44:44,123 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_getconfig' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in nc_getconfig
    r = task.run(task=netconf_get_config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_get_config at 0x7fc65b0338b0> (failed)


2020-09-11 20:46:35,060 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:46:35,068 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:46:50,097 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_get_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2211, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 380, in readline
    buf += self._read_timeout(timeout)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 622, in _read_timeout
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2039, in run
    self._check_banner()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2215, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_get_config.py", line 46, in netconf_get_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 331, in connect
    raise SSHError('Negotiation failed: %s' % e)
ncclient.transport.errors.SSHError: Negotiation failed: Error reading SSH protocol banner

2020-09-11 20:46:50,098 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_getconfig' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in nc_getconfig
    r = task.run(task=netconf_get_config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_get_config at 0x7fae447168b0> (failed)


2020-09-11 20:48:05,594 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:48:05,602 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:48:06,139 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_getconfig' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 49, in nc_getconfig
    print(f'Customer Name: {customers["customer-name"]}\nCustomer ID: {customers["customer-id"]}')
TypeError: list indices must be integers or slices, not str

2020-09-11 20:49:19,912 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:49:19,917 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:49:20,548 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_getconfig' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 49, in nc_getconfig
    print(f'Customer Name: {customers["customer-name"]}\nCustomer ID: {customers["customer-id"]}')
TypeError: list indices must be integers or slices, not str

2020-09-11 20:51:50,006 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:51:50,011 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:52:44,420 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:52:44,425 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:53:29,477 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:53:29,483 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:54:02,259 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:54:02,268 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:55:34,319 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:55:34,325 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:55:34,928 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'nc_getconfig' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 51, in nc_getconfig
    print(f"Customer ID: {customers['customer-id']}")
TypeError: list indices must be integers or slices, not str

2020-09-11 20:56:08,505 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:56:08,511 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:57:25,390 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:57:25,397 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:58:39,270 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:58:39,650 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 20, in netconf_edit_config
    manager.edit_config(config, target=target)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 20:58:39,650 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fdcf2fc4790> (failed)


2020-09-11 20:58:39,652 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-11 20:59:18,069 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 20:59:18,435 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 20, in netconf_edit_config
    manager.edit_config(config, target=target)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 20:59:18,435 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fb337104790> (failed)


2020-09-11 21:05:17,190 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 21:05:17,445 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 20, in netconf_edit_config
    manager.edit_config(config, target=target)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 21:05:17,446 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    result = task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f8b396d8790> (failed)


2020-09-11 21:25:55,350 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 21:25:55,359 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    vprn.decode('utf-8')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'decode'

2020-09-11 21:27:00,951 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 21:27:00,957 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    config = vprn.decode('utf-8')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'decode'

2020-09-11 21:27:26,002 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 21:27:26,008 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    config = vprn.decode('utf-8')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'decode'

2020-09-11 21:27:40,677 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 21:27:40,682 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    config = vprn.decode('utf-8')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'decode'

2020-09-11 21:28:11,053 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 21:28:11,060 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    config = vprn.encode('utf-8')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 21:28:53,549 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 21:28:53,554 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    config = vprn.encode('utf-8')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 21:29:31,101 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 21:29:31,440 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 20, in netconf_edit_config
    manager.edit_config(config, target=target)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 21:29:31,440 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 41, in iac_render
    task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fb8ab7da790> (failed)


2020-09-11 21:38:27,692 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 21:38:28,043 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 20, in netconf_edit_config
    manager.edit_config(config, target=target)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 21:38:28,043 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 42, in iac_render
    task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f831400a790> (failed)


2020-09-11 21:46:09,425 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-11 21:46:11,434 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-11 21:46:11,435 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in iac_render
    task.run(task=netconf_edit_config, target=task.host['target'], config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fc5357d3670> (failed)


2020-09-12 09:02:59,026 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:02:59,034 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
TypeError: netconf_edit_config() missing 1 required positional argument: 'target'

2020-09-12 09:02:59,035 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in iac_render
    task.run(task=netconf_edit_config, config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fe75c820790> (failed)


2020-09-12 09:03:22,185 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:03:37,238 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2055, in run
    ptype, m = self.packetizer.read_message()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 459, in read_message
    header = self.read_all(self.__block_size_in, check_rekey=True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 299, in read_all
    raise EOFError()
EOFError

2020-09-12 09:03:37,239 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in iac_render
    task.run(task=netconf_edit_config, target='candidate', config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f989cf0e670> (failed)


2020-09-12 09:06:56,136 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:07:11,232 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2055, in run
    ptype, m = self.packetizer.read_message()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 459, in read_message
    header = self.read_all(self.__block_size_in, check_rekey=True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 299, in read_all
    raise EOFError()
EOFError

2020-09-12 09:07:11,232 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in iac_render
    task.run(task=netconf_edit_config, config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f88f903e790> (failed)


2020-09-12 09:08:50,751 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:09:05,817 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 19, in netconf_edit_config
    manager = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 329, in connect
    self._transport.start_client()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 660, in start_client
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 2055, in run
    ptype, m = self.packetizer.read_message()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 459, in read_message
    header = self.read_all(self.__block_size_in, check_rekey=True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/packet.py", line 299, in read_all
    raise EOFError()
EOFError

2020-09-12 09:09:05,818 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in iac_render
    task.run(task=netconf_edit_config, target='candidate', config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f9d0cd0d790> (failed)


2020-09-12 09:12:07,974 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:12:08,314 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 20, in netconf_edit_config
    manager.edit_config(config, target=target)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-12 09:12:08,314 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in iac_render
    task.run(task=netconf_edit_config, target='candidate', config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7faba283e790> (failed)


2020-09-12 09:13:01,134 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:13:02,505 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netconf_edit_config.py", line 20, in netconf_edit_config
    manager.edit_config(config, target=target)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-12 09:13:02,505 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in iac_render
    task.run(task=netconf_edit_config, target='candidate', config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f914e6da790> (failed)


2020-09-12 09:20:22,907 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:20:23,396 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'encode'

2020-09-12 09:20:23,396 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 44, in iac_render
    task.run(task=netconf_edit_config, target='candidate', config=vprn)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fe74c01b790> (failed)


2020-09-12 09:20:56,939 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-12 09:23:21,034 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-12 09:23:42,635 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-12 09:23:58,259 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:23:58,266 -  nornir.core -     INFO -        run() - Running task 'nc_getconfig' with args {} on 1 hosts
2020-09-12 09:24:47,478 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:25:05,720 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:25:38,855 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:25:52,408 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:26:18,718 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:26:30,958 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:28:33,583 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 09:28:33,885 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "src/lxml/etree.pyx", line 3235, in lxml.etree.fromstring
  File "src/lxml/parser.pxi", line 1876, in lxml.etree._parseMemoryDocument
  File "src/lxml/parser.pxi", line 1764, in lxml.etree._parseDoc
  File "src/lxml/parser.pxi", line 1127, in lxml.etree._BaseParser._parseDoc
  File "src/lxml/parser.pxi", line 601, in lxml.etree._ParserContext._handleParseResultDoc
  File "src/lxml/parser.pxi", line 711, in lxml.etree._handleParseResult
  File "src/lxml/parser.pxi", line 640, in lxml.etree._raiseParseError
  File "<string>", line 1
lxml.etree.XMLSyntaxError: Start tag expected, '<' not found, line 1, column 1

2020-09-12 09:28:33,885 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 46, in iac_render
    task.run(task=netconf_edit_config, target='candidate', config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f917f81f790> (failed)


2020-09-12 09:28:38,771 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 10:59:52,496 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 10:59:52,498 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    print(vars_data['VRF']['CUSTOMER_ID'])
TypeError: list indices must be integers or slices, not str

2020-09-12 11:00:39,981 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:00:39,983 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    print(vrf['VRF']['CUSTOMER_ID'])
TypeError: 'Result' object is not subscriptable

2020-09-12 11:00:54,395 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:01:08,547 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:01:24,204 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:01:24,205 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    print(vrf['VRF'])
TypeError: 'Result' object is not subscriptable

2020-09-12 11:01:38,548 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:01:38,550 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    print(dict(vrf))
TypeError: 'Result' object is not iterable

2020-09-12 11:01:57,730 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:02:15,237 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:02:15,238 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in iac_render
    print(vrf['VRF'])
TypeError: string indices must be integers

2020-09-12 11:02:27,556 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:03:05,303 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:03:05,304 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 39, in iac_render
    for vrf in vars_data['VRF']:
TypeError: list indices must be integers or slices, not str

2020-09-12 11:04:20,526 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:06:21,439 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:09:23,184 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:09:23,186 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 55, in iac_render
    nc_getconfig(serviceid=serviceid, servicename=servicename)
TypeError: nc_getconfig() missing 1 required positional argument: 'task'

2020-09-12 11:09:39,091 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:11:33,576 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:14:12,103 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:14:41,404 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:14:49,462 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:18:22,938 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:18:38,564 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:19:38,555 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:20:44,163 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:21:55,965 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:23:31,826 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:26:05,859 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:27:08,188 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:29:22,509 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:30:14,326 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:52:35,724 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:53:50,362 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:53:50,973 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 51, in iac_render
    if deploy_config.ok:
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 262, in __getattr__
    return getattr(self[0], name)
AttributeError: 'Result' object has no attribute 'ok'

2020-09-12 11:55:23,149 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:59:58,477 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 11:59:59,089 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "225"
        

2020-09-12 11:59:59,090 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 58, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7ffedb822790> (failed)


2020-09-12 12:01:03,229 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 12:01:03,672 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "225"
        

2020-09-12 12:01:03,672 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 58, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7ffd3f10e940> (failed)


2020-09-12 12:01:49,633 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 12:01:50,280 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "225"
        

2020-09-12 12:01:50,280 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 58, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fea4c804790> (failed)


2020-09-12 12:02:12,103 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 12:02:12,676 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "225"
        

2020-09-12 12:02:12,676 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 58, in iac_render
    print_result(task.run(task=netconf_commit))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7f94b96e7820> (failed)


2020-09-12 12:02:29,018 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 12:02:29,672 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "225"
        

2020-09-12 12:02:29,672 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 58, in iac_render
    print(task.run(task=netconf_commit))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7facb5804820> (failed)


2020-09-12 12:02:52,931 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 12:02:53,481 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "225"
        

2020-09-12 12:02:53,482 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7f91e2df2820> (failed)


2020-09-12 12:03:48,134 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 12:03:48,664 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "225"
        

2020-09-12 12:03:48,665 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7f9ce4f04820> (failed)


2020-09-12 15:58:12,325 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 15:58:14,525 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "225"
        

2020-09-12 15:58:14,525 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fc3774e7820> (failed)


2020-09-12 15:59:34,480 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 15:59:35,023 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: SVCMGR #267: Inconsistent value - customer-id "1" also has customer-id 1 configured
        

2020-09-12 15:59:35,023 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fb022f1d820> (failed)


2020-09-12 15:59:50,392 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 15:59:51,023 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "2"
        

2020-09-12 15:59:51,024 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fc9f8814940> (failed)


2020-09-12 16:00:35,186 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:00:35,822 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "2"
        

2020-09-12 16:00:35,823 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fc22e806820> (failed)


2020-09-12 16:00:57,601 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:00:59,006 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "2"
        

2020-09-12 16:00:59,006 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fa431f0f940> (failed)


2020-09-12 16:02:42,491 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:03:26,236 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:03:26,934 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "2"
        

2020-09-12 16:03:26,934 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7f978b804820> (failed)


2020-09-12 16:03:38,891 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:03:39,422 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "3"
        

2020-09-12 16:03:39,423 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fd6d6022820> (failed)


2020-09-12 16:04:59,574 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:05:00,210 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "3"
        

2020-09-12 16:05:00,211 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fc1f7fff820> (failed)


2020-09-12 16:06:02,941 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:06:03,614 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "3"
        

2020-09-12 16:06:03,615 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7f99286ff820> (failed)


2020-09-12 16:06:23,211 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:06:23,821 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "3"
        

2020-09-12 16:06:23,822 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7ff376804820> (failed)


2020-09-12 16:08:47,399 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:08:48,126 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "3"
        

2020-09-12 16:08:48,127 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fe616eff820> (failed)


2020-09-12 16:08:59,126 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:08:59,817 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "3"
        

2020-09-12 16:08:59,817 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fdf0b805820> (failed)


2020-09-12 16:09:14,608 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:09:15,219 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "3"
        

2020-09-12 16:09:15,220 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7f809f6d9820> (failed)


2020-09-12 16:10:00,255 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:10:16,860 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:10:17,418 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #224: Entry does not exist - configure service customer customer-name "5"
        

2020-09-12 16:10:17,419 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 59, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fd9a6fff820> (failed)


2020-09-12 16:12:53,239 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:13:10,162 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:13:39,531 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:17:53,052 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:18:40,771 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 16:20:47,777 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 20:49:16,281 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:18:37,832 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:34:27,463 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:34:34,208 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 64, in iac_render
    vrf = task.run(task=get_vrf(task,serviceid))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-12 21:34:53,675 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:35:00,594 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 64, in iac_render
    vrf = task.run(task=get_vrf(task,serviceid))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-12 21:36:11,477 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:36:18,512 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 64, in iac_render
    vrf = task.run(task=get_vrf(task,serviceid=serviceid))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-12 21:50:00,131 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:50:09,234 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 64, in iac_render
    vrf = task.run(task=get_vrf(task,serviceid=serviceid))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-12 21:50:28,061 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {} on 1 hosts
2020-09-12 21:50:28,061 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
TypeError: get_vrf() missing 1 required positional argument: 'serviceid'

2020-09-12 21:51:18,986 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:51:25,796 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 64, in iac_render
    print_result(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-12 21:51:51,794 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:51:58,387 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 64, in iac_render
    print_result(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-12 21:52:28,181 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:52:29,414 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 64, in iac_render
    get_vrf = task.run(task=get_vrf(task,serviceid=serviceid))
UnboundLocalError: local variable 'get_vrf' referenced before assignment

2020-09-12 21:52:40,132 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:52:41,504 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 64, in iac_render
    get_vrf = task.run(task=get_vrf(task,serviceid=serviceid))
UnboundLocalError: local variable 'get_vrf' referenced before assignment

2020-09-12 21:53:43,392 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:53:44,585 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 64, in iac_render
    get_vrf = task.run(task=get_vrf(task,serviceid=serviceid))
UnboundLocalError: local variable 'get_vrf' referenced before assignment

2020-09-12 21:54:07,578 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-12 21:54:15,185 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 64, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-13 15:18:54,067 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-13 15:19:02,393 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 91, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-13 15:19:51,212 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-13 15:19:51,223 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 75, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target='candidate', config=payload)
NameError: name 'netconf_edit_config' is not defined

2020-09-13 15:20:01,349 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-13 15:20:01,355 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 75, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target='candidate', config=payload)
NameError: name 'netconf_edit_config' is not defined

2020-09-13 15:20:18,278 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-13 15:20:18,622 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 84, in iac_render
    if result.ok:
AttributeError: 'NoneType' object has no attribute 'ok'

2020-09-13 15:20:27,405 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-13 15:20:34,380 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 91, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-13 15:23:55,441 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-13 15:24:03,425 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 93, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-13 15:26:51,417 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-13 15:26:51,429 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 77, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host.target, config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 171, in __getattribute__
    return object.__getattribute__(self, name)
AttributeError: 'Host' object has no attribute 'target'

2020-09-13 15:27:35,394 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-13 15:27:42,179 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 93, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-13 15:28:38,990 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-13 15:28:45,779 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 10:40:50,626 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-14 10:40:58,955 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 10:59:03,025 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 10:59:03,791 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 352, in connect
    raise SSHUnknownHostError(known_hosts_lookups[0], fingerprint)
ncclient.transport.errors.SSHUnknownHostError: Unknown host key [fe:05:1d:0a:4c:38:a7:3f:bf:eb:6d:d7:07:45:21:db] for [192.168.0.182]

2020-09-14 10:59:03,792 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7ffb30ef9790> (failed)


2020-09-14 10:59:09,735 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 10:59:27,557 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 10:59:28,105 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 352, in connect
    raise SSHUnknownHostError(known_hosts_lookups[0], fingerprint)
ncclient.transport.errors.SSHUnknownHostError: Unknown host key [fe:05:1d:0a:4c:38:a7:3f:bf:eb:6d:d7:07:45:21:db] for [192.168.0.182]

2020-09-14 10:59:28,107 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f88f0de5790> (failed)


2020-09-14 10:59:34,550 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 11:00:04,594 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 11:00:11,343 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 11:00:35,200 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 362, in connect
    self._auth(username, password, key_filenames, allow_agent, look_for_keys)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 464, in _auth
    raise AuthenticationError(repr(saved_exception))
ncclient.transport.errors.AuthenticationError: AuthenticationException('Authentication timeout.')

2020-09-14 11:00:35,201 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fcc47016790> (failed)


2020-09-14 11:02:04,345 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 11:02:11,140 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 11:02:35,014 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netconf.py", line 120, in open
    connection = manager.connect_ssh(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 135, in connect_ssh
    session.connect(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 362, in connect
    self._auth(username, password, key_filenames, allow_agent, look_for_keys)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/transport/ssh.py", line 464, in _auth
    raise AuthenticationError(repr(saved_exception))
ncclient.transport.errors.AuthenticationError: AuthenticationException('Authentication timeout.')

2020-09-14 11:02:35,014 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fa13d816790> (failed)


2020-09-14 11:30:43,125 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 11:30:44,079 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 94, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-14 11:30:49,822 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 11:35:18,664 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 11:35:19,589 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 94, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-14 11:35:25,730 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 11:37:13,510 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 11:37:20,116 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 11:40:44,943 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 11:40:51,924 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 12:08:16,864 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 12:08:17,517 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: COMMON #238: Configuration change failed validation - This route-distinguisher is already configured on another service - already on service 100
        

2020-09-14 12:08:17,518 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fa89aee3790> (failed)


2020-09-14 12:10:33,363 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 12:10:40,127 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 12:11:33,511 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 12:11:40,325 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-14 12:16:37,018 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 12:16:37,488 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: SVCMGR #267: Inconsistent value - customer-id "1" also has customer-id 1 configured
        

2020-09-14 12:16:37,489 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fc7ddfff790> (failed)


2020-09-14 12:41:33,013 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-14 12:41:33,592 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: COMMON #238: Configuration change failed validation - This route-distinguisher is already configured on another service - already on service TEST2
        

2020-09-14 12:41:33,592 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7fbf496e3790> (failed)


2020-09-17 11:17:30,098 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-17 11:17:30,413 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "src/lxml/etree.pyx", line 3235, in lxml.etree.fromstring
  File "src/lxml/parser.pxi", line 1876, in lxml.etree._parseMemoryDocument
  File "src/lxml/parser.pxi", line 1764, in lxml.etree._parseDoc
  File "src/lxml/parser.pxi", line 1127, in lxml.etree._BaseParser._parseDoc
  File "src/lxml/parser.pxi", line 601, in lxml.etree._ParserContext._handleParseResultDoc
  File "src/lxml/parser.pxi", line 711, in lxml.etree._handleParseResult
  File "src/lxml/parser.pxi", line 640, in lxml.etree._raiseParseError
  File "<string>", line 28
lxml.etree.XMLSyntaxError: Opening and ending tag mismatch: address line 26 and primary, line 28, column 25

2020-09-17 11:17:30,413 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fb1e06f0820> (failed)


2020-09-17 11:18:13,716 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-17 11:18:14,218 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 358, in _request
    raise RPCError(to_ele(self._reply._raw), errs=errors)
ncclient.operations.rpc.RPCError: error: MINOR: SVCMGR #267: Inconsistent value - customer-id "VPLS-SCALING" also has customer-id 100 configured
error: MINOR: SVCMGR #267: Inconsistent value - service-id "100" also has service-id 100 configured
error: MINOR: COMMON #238: Configuration change failed validation - This route-distinguisher is already configured on another service - already on service 100

2020-09-17 11:18:14,219 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7f8d4c0168b0> (failed)


2020-09-17 11:22:20,999 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-17 11:22:22,177 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-17 11:29:16,733 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-17 11:29:17,735 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-17 11:30:26,887 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-17 11:30:28,012 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-17 11:34:37,853 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 11:34:38,988 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-17 11:34:49,569 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 11:34:50,724 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-17 11:42:13,791 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 11:42:16,985 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-17 12:06:08,161 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 12:06:08,807 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "src/lxml/etree.pyx", line 3235, in lxml.etree.fromstring
  File "src/lxml/parser.pxi", line 1876, in lxml.etree._parseMemoryDocument
  File "src/lxml/parser.pxi", line 1764, in lxml.etree._parseDoc
  File "src/lxml/parser.pxi", line 1127, in lxml.etree._BaseParser._parseDoc
  File "src/lxml/parser.pxi", line 601, in lxml.etree._ParserContext._handleParseResultDoc
  File "src/lxml/parser.pxi", line 711, in lxml.etree._handleParseResult
  File "src/lxml/parser.pxi", line 640, in lxml.etree._raiseParseError
  File "<string>", line 57
lxml.etree.XMLSyntaxError: Opening and ending tag mismatch: interface-configurations line 44 and interface-configuration, line 57, column 53

2020-09-17 12:06:08,807 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fb7db016820> (failed)


2020-09-17 12:08:34,263 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 12:08:34,923 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "src/lxml/etree.pyx", line 3235, in lxml.etree.fromstring
  File "src/lxml/parser.pxi", line 1876, in lxml.etree._parseMemoryDocument
  File "src/lxml/parser.pxi", line 1764, in lxml.etree._parseDoc
  File "src/lxml/parser.pxi", line 1127, in lxml.etree._BaseParser._parseDoc
  File "src/lxml/parser.pxi", line 601, in lxml.etree._ParserContext._handleParseResultDoc
  File "src/lxml/parser.pxi", line 711, in lxml.etree._handleParseResult
  File "src/lxml/parser.pxi", line 640, in lxml.etree._raiseParseError
  File "<string>", line 58
lxml.etree.XMLSyntaxError: Opening and ending tag mismatch: interface-configurations line 45 and interface-configuration, line 58, column 52

2020-09-17 12:08:34,924 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7faac881b820> (failed)


2020-09-17 12:08:53,988 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 12:08:54,595 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "src/lxml/etree.pyx", line 3235, in lxml.etree.fromstring
  File "src/lxml/parser.pxi", line 1876, in lxml.etree._parseMemoryDocument
  File "src/lxml/parser.pxi", line 1764, in lxml.etree._parseDoc
  File "src/lxml/parser.pxi", line 1127, in lxml.etree._BaseParser._parseDoc
  File "src/lxml/parser.pxi", line 601, in lxml.etree._ParserContext._handleParseResultDoc
  File "src/lxml/parser.pxi", line 711, in lxml.etree._handleParseResult
  File "src/lxml/parser.pxi", line 640, in lxml.etree._raiseParseError
  File "<string>", line 60
lxml.etree.XMLSyntaxError: Opening and ending tag mismatch: interface-configurations line 45 and config, line 60, column 10

2020-09-17 12:08:54,595 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fc542810700> (failed)


2020-09-17 12:09:07,097 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 12:09:07,815 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 69, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 358, in _request
    raise RPCError(to_ele(self._reply._raw), errs=errors)
ncclient.operations.rpc.RPCError: error: not an error message in the reply. Enable debug
error: not an error message in the reply. Enable debug
error: not an error message in the reply. Enable debug
error: not an error message in the reply. Enable debug
error: not an error message in the reply. Enable debug

2020-09-17 12:09:07,816 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fa33c6f8820> (failed)


2020-09-17 12:10:09,769 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 12:10:10,568 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 69, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: {'type': 'protocol', 'tag': 'unknown-namespace', 'app_tag': None, 'severity': 'error', 'info': '<?xml version="1.0" encoding="UTF-8"?><error-info xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0">\n   <bad-element>interface-configurations</bad-element>\n   <bad-namespace/>\n  </error-info>\n ', 'path': None, 'message': None}

2020-09-17 12:10:10,568 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f94f701b820> (failed)


2020-09-17 12:10:36,177 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 12:10:36,890 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 69, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 358, in _request
    raise RPCError(to_ele(self._reply._raw), errs=errors)
ncclient.operations.rpc.RPCError: error: not an error message in the reply. Enable debug
error: not an error message in the reply. Enable debug
error: not an error message in the reply. Enable debug
error: not an error message in the reply. Enable debug
error: not an error message in the reply. Enable debug

2020-09-17 12:10:36,890 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fe3fc6df700> (failed)


2020-09-17 12:11:06,633 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 12:11:07,284 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "src/lxml/etree.pyx", line 3235, in lxml.etree.fromstring
  File "src/lxml/parser.pxi", line 1876, in lxml.etree._parseMemoryDocument
  File "src/lxml/parser.pxi", line 1764, in lxml.etree._parseDoc
  File "src/lxml/parser.pxi", line 1127, in lxml.etree._BaseParser._parseDoc
  File "src/lxml/parser.pxi", line 601, in lxml.etree._ParserContext._handleParseResultDoc
  File "src/lxml/parser.pxi", line 711, in lxml.etree._handleParseResult
  File "src/lxml/parser.pxi", line 640, in lxml.etree._raiseParseError
  File "<string>", line 60
lxml.etree.XMLSyntaxError: Opening and ending tag mismatch: interface-configuration line 59 and interface-configurations, line 60, column 53

2020-09-17 12:11:07,284 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fd9c5016820> (failed)


2020-09-17 12:11:56,408 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 12:11:57,009 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "src/lxml/etree.pyx", line 3235, in lxml.etree.fromstring
  File "src/lxml/parser.pxi", line 1876, in lxml.etree._parseMemoryDocument
  File "src/lxml/parser.pxi", line 1764, in lxml.etree._parseDoc
  File "src/lxml/parser.pxi", line 1127, in lxml.etree._BaseParser._parseDoc
  File "src/lxml/parser.pxi", line 601, in lxml.etree._ParserContext._handleParseResultDoc
  File "src/lxml/parser.pxi", line 711, in lxml.etree._handleParseResult
  File "src/lxml/parser.pxi", line 640, in lxml.etree._raiseParseError
  File "<string>", line 60
lxml.etree.XMLSyntaxError: Opening and ending tag mismatch: interface-configuration line 59 and interface-configurations, line 60, column 53

2020-09-17 12:11:57,009 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7f97e181b820> (failed)


2020-09-17 12:12:22,467 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 15:11:51,917 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 15:16:44,047 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 15:16:44,060 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 50, in <module>
    <interface-name>{{VRF.INTERFACE_NAME}}</interface-name>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRF' is undefined

2020-09-17 15:16:44,060 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 73, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fb328fde430> (failed)


2020-09-17 15:17:14,634 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 15:17:14,641 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 50, in <module>
    <interface-name>{{ VRF.INTERFACE_NAME }}</interface-name>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRF' is undefined

2020-09-17 15:17:14,642 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 73, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fead96e0430> (failed)


2020-09-17 15:17:23,294 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 15:17:23,307 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 50, in <module>
    <interface-name>{{ VRF.INTERFACE_NAME }}</interface-name>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRF' is undefined

2020-09-17 15:17:23,308 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 73, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe4c681b550> (failed)


2020-09-17 15:18:01,766 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 15:18:01,773 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 50, in <module>
    <interface-name>{{ VRF.INTERFACE_NAME }}</interface-name>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRF' is undefined

2020-09-17 15:18:01,774 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 73, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7ffac1fe9550> (failed)


2020-09-17 15:18:07,884 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 15:18:07,891 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 50, in <module>
    <interface-name>{{ VRF.INTERFACE_NAME }}</interface-name>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRF' is undefined

2020-09-17 15:18:07,892 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 73, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f88cff16550> (failed)


2020-09-17 15:18:46,934 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 15:18:46,941 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 50, in <module>
    <interface-name>{{ VRF.INTERFACE_NAME }}</interface-name>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRF' is undefined

2020-09-17 15:18:46,942 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 73, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fe4b16df430> (failed)


2020-09-17 15:18:56,192 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 15:18:56,203 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 50, in <module>
    <interface-name>{{ VRF.INTERFACE_NAME }}</interface-name>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRF' is undefined

2020-09-17 15:18:56,204 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 73, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fd9de6db550> (failed)


2020-09-17 15:19:31,460 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 1 hosts
2020-09-17 15:19:31,467 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 50, in <module>
    <interface-name>{{ VRF.INTERFACE_NAME }}</interface-name>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRF' is undefined

2020-09-17 15:19:31,468 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 73, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fc53bff8550> (failed)


2020-09-17 15:19:46,936 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-17 15:19:46,949 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 50, in <module>
    <interface-name>{{ VRF.INTERFACE_NAME }}</interface-name>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRF' is undefined

2020-09-17 15:19:46,952 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 73, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7f826b716550> (failed)


2020-09-17 15:19:49,950 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-17 15:20:33,542 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-17 15:20:33,558 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/text/template_file.py", line 30, in template_file
    text = jinja_helper.render_from_file(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/helpers/jinja_helper.py", line 23, in render_from_file
    return t.render(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/asyncsupport.py", line 76, in render
    return original_render(self, *args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/_compat.py", line 37, in reraise
    raise value.with_traceback(tb)
  File "templates/iosxr-vrf.j2", line 50, in <module>
    <interface-name>{{ VRF.INTERFACE_NAME }}</interface-name>
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/jinja2/environment.py", line 430, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'VRF' is undefined

2020-09-17 15:20:33,559 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 73, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function template_file at 0x7fd9f4816550> (failed)


2020-09-17 15:20:34,685 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-17 15:21:19,610 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-17 15:21:20,283 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 65, in request
    node.append(validated_element(config, ("config", qualify("config"))))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 145, in validated_element
    ele = to_ele(x)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/xml_.py", line 124, in to_ele
    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))
  File "src/lxml/etree.pyx", line 3235, in lxml.etree.fromstring
  File "src/lxml/parser.pxi", line 1876, in lxml.etree._parseMemoryDocument
  File "src/lxml/parser.pxi", line 1764, in lxml.etree._parseDoc
  File "src/lxml/parser.pxi", line 1127, in lxml.etree._BaseParser._parseDoc
  File "src/lxml/parser.pxi", line 601, in lxml.etree._ParserContext._handleParseResultDoc
  File "src/lxml/parser.pxi", line 711, in lxml.etree._handleParseResult
  File "src/lxml/parser.pxi", line 640, in lxml.etree._raiseParseError
  File "<string>", line 56
lxml.etree.XMLSyntaxError: Opening and ending tag mismatch: address line 54 and primary, line 56, column 21

2020-09-17 15:21:20,283 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 78, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fb88c810700> (failed)


2020-09-17 15:21:20,697 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-17 15:21:44,299 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-17 15:21:45,286 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 01:55:09,666 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 01:55:11,108 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid,servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 01:55:12,180 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_commit' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 45, in netconf_commit
    result = conn.commit(**kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 164, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 358, in _request
    raise RPCError(to_ele(self._reply._raw), errs=errors)
ncclient.operations.rpc.RPCError: error: MINOR: SVCMGR #267: Inconsistent value - service-id "AvifiCO" also has service-id 100 configured
error: MINOR: COMMON #238: Configuration change failed validation - This route-distinguisher is already configured on another service - already on service AvifiCO

2020-09-18 01:55:12,181 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    task.run(task=netconf_commit)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_commit at 0x7ffc857e9700> (failed)


2020-09-18 01:56:37,575 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 01:56:38,741 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 01:56:38,808 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    print(task.run(task=get_vrf(task,serviceid=serviceid,servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 01:58:34,733 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 01:58:35,806 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:00:05,245 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:00:06,371 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:00:06,446 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 103, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:01:20,041 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:01:21,107 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:01:21,227 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 103, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:03:49,616 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:03:50,802 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:03:50,858 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 103, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:04:12,273 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:04:13,500 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 103, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:04:13,516 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:04:26,358 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:04:27,553 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 103, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:04:27,559 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:06:26,101 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:06:27,282 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:06:27,346 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 103, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:06:40,111 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:06:41,388 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 103, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:06:46,314 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 103, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-18 02:06:55,053 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:06:56,384 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 99, in iac_render
    print(serviceid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:07:01,416 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 104, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-18 02:12:11,458 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:12:12,572 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:12:12,735 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 103, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:12:56,049 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:12:57,148 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:12:57,261 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 98, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:13:59,362 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:14:00,536 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:14:00,556 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 98, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:16:56,109 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:16:57,313 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:16:57,357 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 98, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:17:02,966 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:17:04,068 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:17:04,180 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 98, in iac_render
    print(task.run(task=get_vrf(task, serviceid=serviceid, servicename=servicename)))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:17:29,989 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:17:31,078 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:21:57,849 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:21:58,926 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:22:27,561 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:22:28,719 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:22:28,793 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 99, in iac_render
    print(serviceid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:22:43,092 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:22:44,054 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 99, in iac_render
    print(serviceid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 02:22:44,310 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:23:11,959 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:23:13,227 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 95, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:24:35,341 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:24:36,297 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 100, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:26:01,004 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:26:02,075 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:26:23,158 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:26:24,336 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:27:19,579 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:27:20,764 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:27:44,887 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:27:46,094 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:28:07,931 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:28:08,891 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    config = nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:28:30,177 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:28:31,387 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    print(nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid))
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:30:20,831 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:30:22,023 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    print(nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid))
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:30:43,320 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:30:44,573 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    print(nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid))
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:31:04,587 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:31:05,653 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    print_result(nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid))
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:31:27,971 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:31:29,242 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    vrf = (nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid))
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:31:51,685 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:31:52,680 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    vrf = (nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid))
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:32:14,736 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:32:15,717 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    print(print_result(nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)))
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:32:29,503 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:32:30,518 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:34:10,734 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:34:11,892 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:36:05,993 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:36:07,192 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:39:48,814 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:39:49,860 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:39:55,242 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:39:56,299 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:42:13,028 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:44:10,128 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:44:11,087 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:45:55,163 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:45:56,285 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 100, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:48:16,965 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:48:18,192 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 100, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 02:48:55,115 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:50:35,822 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:50:56,381 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:50:57,463 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 101, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    print(vprn['service-name'])
TypeError: string indices must be integers

2020-09-18 02:51:47,184 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:51:48,270 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 101, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    print(vprn['service-name'])
TypeError: string indices must be integers

2020-09-18 02:52:05,993 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:57:32,241 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:57:43,564 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:58:21,863 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 02:59:28,125 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:00:42,767 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:00:43,917 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 101, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 53, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 03:01:14,959 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:01:16,069 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 100, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 03:02:04,522 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:02:05,545 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 101, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 03:02:46,572 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:02:47,683 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 101, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 52, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 03:03:21,702 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:03:22,797 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 102, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
  File "norconf.py", line 53, in nc_getconfig
    if vprn['service-name'] == servicename:
TypeError: string indices must be integers

2020-09-18 03:16:51,729 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:28:30,361 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:28:31,316 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 93, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:29:11,317 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:29:12,293 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:29:30,080 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:29:31,066 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    print(nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:29:40,110 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:29:41,034 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    print_result(nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:29:54,470 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:29:55,358 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    vrf = (nc_getconfig(task, serviceid=serviceid, servicename=servicename, customerid=customerid))
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:29:55,608 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 93, in iac_render
    print(vrf.result)
AttributeError: 'NoneType' object has no attribute 'result'

2020-09-18 03:30:30,731 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:30:47,339 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:31:23,203 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:31:40,924 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:32:26,056 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:32:26,828 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 90, in iac_render
    print(customerid)
UnboundLocalError: local variable 'customerid' referenced before assignment

2020-09-18 03:32:38,864 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:32:39,649 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 90, in iac_render
    print(customerid)
UnboundLocalError: local variable 'customerid' referenced before assignment

2020-09-18 03:33:10,677 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:33:39,267 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:33:47,702 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:34:59,949 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:35:11,348 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:35:49,995 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:38:28,893 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:40:11,729 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:40:48,421 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:40:49,379 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 97, in iac_render
    nc_getcust(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:43:16,120 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:43:17,056 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 100, in iac_render
    nc_getcust(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:48:12,095 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:48:13,012 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:48:52,697 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:48:53,619 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:49:25,530 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:49:26,499 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 106, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:51:16,687 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:51:17,645 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 107, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:53:30,977 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:53:31,936 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 104, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:54:08,827 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:54:09,328 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 69, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #2051: Global datastore access unavailable - the MD-CLI has exclusive lock on configuration
        

2020-09-18 03:54:09,328 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 81, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fef1171d820> (failed)


2020-09-18 03:54:09,768 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 104, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:56:59,301 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:56:59,626 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 69, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #2051: Global datastore access unavailable - the MD-CLI has exclusive lock on configuration
        

2020-09-18 03:56:59,627 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 81, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fc5ae6e8820> (failed)


2020-09-18 03:57:00,263 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 104, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:57:33,692 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:57:34,656 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:57:36,020 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 33, in netconf_edit_config
    result = conn.edit_config(target=target, config=config, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 69, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            MINOR: MGMT_CORE #2051: Global datastore access unavailable - the MD-CLI has exclusive lock on configuration
        

2020-09-18 03:57:36,020 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 82, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netconf_edit_config at 0x7fa749dde790> (failed)


2020-09-18 03:57:51,862 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:57:52,770 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:58:08,052 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:58:08,967 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:58:41,810 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:58:42,774 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:59:29,777 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:59:30,692 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:59:32,074 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:59:32,999 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 03:59:48,914 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 03:59:49,866 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:00:25,414 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:00:26,383 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:00:52,228 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:00:53,219 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:02:33,047 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:02:34,025 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:02:48,800 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:02:49,224 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 99, in iac_render
    print(result.result)
AttributeError: 'RPCReply' object has no attribute 'result'

2020-09-18 04:02:49,525 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 99, in iac_render
    print(result.result)
AttributeError: 'RPCReply' object has no attribute 'result'

2020-09-18 04:03:04,414 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:03:05,298 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:03:34,691 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:03:35,602 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:04:59,491 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:05:00,472 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:05:00,643 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 108, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
TypeError: get_vrf() got an unexpected keyword argument 'customerid'

2020-09-18 04:05:21,121 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:05:22,266 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 108, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
TypeError: get_vrf() got an unexpected keyword argument 'customerid'

2020-09-18 04:05:28,727 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:06:58,361 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:06:59,307 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:06:59,480 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 108, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
TypeError: get_vrf() got an unexpected keyword argument 'customerid'

2020-09-18 04:07:11,775 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:07:12,713 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:07:12,929 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 108, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
TypeError: get_vrf() got an unexpected keyword argument 'customerid'

2020-09-18 04:07:30,018 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:07:30,953 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 105, in iac_render
    nc_getvprn(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:09:01,593 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:09:36,773 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:09:37,675 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 108, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'serviceid' referenced before assignment

2020-09-18 04:09:37,864 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 108, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
TypeError: get_vrf() got an unexpected keyword argument 'customerid'

2020-09-18 04:09:59,795 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:10:00,697 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'customerid' referenced before assignment

2020-09-18 04:10:00,909 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
TypeError: get_vrf() got an unexpected keyword argument 'customerid'

2020-09-18 04:11:03,107 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:11:04,053 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'customerid' referenced before assignment

2020-09-18 04:11:04,277 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
TypeError: get_vrf() got an unexpected keyword argument 'customerid'

2020-09-18 04:11:46,311 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:11:47,215 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'customerid' referenced before assignment

2020-09-18 04:11:47,390 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
TypeError: get_vrf() got an unexpected keyword argument 'customerid'

2020-09-18 04:12:18,831 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:12:19,754 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'customerid' referenced before assignment

2020-09-18 04:12:19,879 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
TypeError: get_vrf() got an unexpected keyword argument 'customerid'

2020-09-18 04:14:33,297 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:25:13,852 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:47:33,563 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:47:45,253 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:47:46,222 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
UnboundLocalError: local variable 'customerid' referenced before assignment

2020-09-18 04:47:46,583 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, serviceid=serviceid, servicename=servicename, customerid=customerid)
TypeError: get_vrf() got an unexpected keyword argument 'serviceid'

2020-09-18 04:48:20,132 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:48:26,133 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-18 04:48:26,134 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, servicename=servicename)
  File "norconf.py", line 25, in get_vrf
    vrf = task.run(task=netmiko_send_command, command_string=f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netmiko_send_command at 0x7f85bdefeb80> (failed)


2020-09-18 04:49:24,740 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:49:30,699 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-18 04:49:30,700 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, servicename=servicename)
  File "norconf.py", line 25, in get_vrf
    vrf = task.run(task=netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netmiko_send_command at 0x7f843e03eb80> (failed)


2020-09-18 04:50:07,673 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:50:13,651 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-18 04:50:13,652 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vrf(task, servicename=servicename)
  File "norconf.py", line 25, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netmiko_send_command at 0x7f8f3913ab80> (failed)


2020-09-18 04:57:49,636 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 04:57:55,676 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-18 04:57:55,677 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    task.run(get_vrf(task, servicename=servicename))
  File "norconf.py", line 25, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netmiko_send_command at 0x7f7f09039b80> (failed)


2020-09-18 04:57:58,469 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    task.run(get_vrf(task, servicename=servicename))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 141, in run
    run_task = Task(task, parent_task=self, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 48, in __init__
    self.name = name or task.__name__
AttributeError: 'NoneType' object has no attribute '__name__'

2020-09-18 04:59:58,425 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 05:00:09,121 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 05:00:54,523 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 05:00:55,780 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {} on 2 hosts
2020-09-18 05:01:33,279 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 05:01:34,346 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {} on 2 hosts
2020-09-18 05:01:39,412 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/tasks/networking/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection("netmiko", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 297, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 358, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/plugins/connections/netmiko.py", line 58, in open
    self.connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-18 05:01:39,413 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 25, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 147, in run
    raise NornirSubTaskError(task=task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: <function netmiko_send_command at 0x7fbe0f73eb80> (failed)


2020-09-18 09:03:03,312 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 09:03:20,635 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 09:03:32,066 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 09:09:49,391 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {} on 2 hosts
2020-09-18 09:09:49,398 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
TypeError: get_vrf() missing 1 required positional argument: 'servicename'

2020-09-18 09:09:49,398 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 85, in start
    r = self.task(self, **self.params)
TypeError: get_vrf() missing 1 required positional argument: 'servicename'

2020-09-18 09:15:24,428 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {} on 2 hosts
2020-09-18 09:19:58,490 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-18 11:49:47,276 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-18 12:30:19,951 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-18 12:34:00,151 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 12:34:00,155 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 75, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
NameError: name 'template_file' is not defined

2020-09-18 12:34:00,155 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 75, in iac_render
    vprn = task.run(task=template_file, path='templates/', template=template, data=vars_data.result['VRF'])
NameError: name 'template_file' is not defined

2020-09-18 12:34:00,156 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-18 12:35:12,844 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 12:35:12,857 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 481, in open_connection
    plugin = ConnectionPluginRegister.get_plugin(conn_name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/plugins/register.py", line 75, in get_plugin
    raise PluginNotRegistered(f"plugin {name!r} is not registered")
nornir.core.exceptions.PluginNotRegistered: plugin 'netconf' is not registered

2020-09-18 12:35:12,857 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 481, in open_connection
    plugin = ConnectionPluginRegister.get_plugin(conn_name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/plugins/register.py", line 75, in get_plugin
    raise PluginNotRegistered(f"plugin {name!r} is not registered")
nornir.core.exceptions.PluginNotRegistered: plugin 'netconf' is not registered

2020-09-18 12:35:12,858 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 81, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-18 12:35:12,858 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 81, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-18 12:35:12,864 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-18 12:36:11,059 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 12:36:11,079 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 481, in open_connection
    plugin = ConnectionPluginRegister.get_plugin(conn_name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/plugins/register.py", line 75, in get_plugin
    raise PluginNotRegistered(f"plugin {name!r} is not registered")
nornir.core.exceptions.PluginNotRegistered: plugin 'netconf' is not registered

2020-09-18 12:36:11,079 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 481, in open_connection
    plugin = ConnectionPluginRegister.get_plugin(conn_name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/plugins/register.py", line 75, in get_plugin
    raise PluginNotRegistered(f"plugin {name!r} is not registered")
nornir.core.exceptions.PluginNotRegistered: plugin 'netconf' is not registered

2020-09-18 12:36:11,080 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 81, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-18 12:36:11,080 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 81, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-18 12:36:11,117 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-18 12:52:42,494 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-18 12:52:42,509 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 481, in open_connection
    plugin = ConnectionPluginRegister.get_plugin(conn_name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/plugins/register.py", line 75, in get_plugin
    raise PluginNotRegistered(f"plugin {name!r} is not registered")
nornir.core.exceptions.PluginNotRegistered: plugin 'netconf' is not registered

2020-09-18 12:52:42,509 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 481, in open_connection
    plugin = ConnectionPluginRegister.get_plugin(conn_name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/plugins/register.py", line 75, in get_plugin
    raise PluginNotRegistered(f"plugin {name!r} is not registered")
nornir.core.exceptions.PluginNotRegistered: plugin 'netconf' is not registered

2020-09-18 12:52:42,509 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 81, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-18 12:52:42,510 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 81, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-18 12:52:42,527 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-21 12:06:55,267 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 12:06:55,280 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 481, in open_connection
    plugin = ConnectionPluginRegister.get_plugin(conn_name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/plugins/register.py", line 75, in get_plugin
    raise PluginNotRegistered(f"plugin {name!r} is not registered")
nornir.core.exceptions.PluginNotRegistered: plugin 'netconf' is not registered

2020-09-21 12:06:55,280 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 481, in open_connection
    plugin = ConnectionPluginRegister.get_plugin(conn_name)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/plugins/register.py", line 75, in get_plugin
    raise PluginNotRegistered(f"plugin {name!r} is not registered")
nornir.core.exceptions.PluginNotRegistered: plugin 'netconf' is not registered

2020-09-21 12:06:55,281 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 87, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-21 12:06:55,281 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 87, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-21 12:06:55,282 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-21 12:07:09,293 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 12:07:09,305 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 482, in open_connection
    conn_obj = plugin()
TypeError: 'PluginRegister' object is not callable

2020-09-21 12:07:09,306 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Users/htinoco/Dropbox/py-progz/Nornir-Netconf/nc_tasks.py", line 32, in netconf_edit_config
    conn = task.host.get_connection("netconf", task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 482, in open_connection
    conn_obj = plugin()
TypeError: 'PluginRegister' object is not callable

2020-09-21 12:07:09,306 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 87, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-21 12:07:09,306 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 87, in iac_render
    deploy_config = task.run(task=netconf_edit_config, target=task.host['target'], config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-21 12:07:09,363 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-21 17:03:13,952 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:03:16,484 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-21 17:04:18,981 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:04:19,524 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 106, in iac_render
    if result.ok:
AttributeError: 'NoneType' object has no attribute 'ok'

2020-09-21 17:04:19,739 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 106, in iac_render
    if result.ok:
AttributeError: 'NoneType' object has no attribute 'ok'

2020-09-21 17:04:19,763 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-21 17:05:49,635 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:05:50,126 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netconf/plugins/tasks/netconf_edit_config.py", line 23, in netconf_edit_config
    manager.edit_config(config, target=target)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 69, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 
            writable-running capability is not supported
        

2020-09-21 17:05:50,127 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 87, in iac_render
    deploy_config = task.run(task=netconf_edit_config, config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-21 17:05:50,421 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netconf_edit_config' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netconf/plugins/tasks/netconf_edit_config.py", line 23, in netconf_edit_config
    manager.edit_config(config, target=target)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/manager.py", line 226, in execute
    return cls(self._session,
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/edit.py", line 69, in request
    return self._request(node)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/ncclient/operations/rpc.py", line 360, in _request
    raise self._reply.error
ncclient.operations.rpc.RPCError: 'YANG framework' detected the 'fatal' condition 'Operation failed'

2020-09-21 17:05:50,422 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 87, in iac_render
    deploy_config = task.run(task=netconf_edit_config, config=payload)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netconf_edit_config (failed)


2020-09-21 17:05:50,439 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-21 17:07:52,387 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:07:52,713 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 106, in iac_render
    if result.ok:
AttributeError: 'NoneType' object has no attribute 'ok'

2020-09-21 17:07:53,125 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 106, in iac_render
    if result.ok:
AttributeError: 'NoneType' object has no attribute 'ok'

2020-09-21 17:07:53,136 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-21 17:08:32,616 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:08:33,384 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-21 17:08:38,445 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-21 17:08:38,446 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-21 17:08:55,173 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:11:03,844 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:13:07,600 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:13:34,222 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:15:12,306 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:15:32,093 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:15:38,973 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:15:49,955 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:16:06,379 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:16:28,317 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:19:20,064 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:23:09,041 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:23:20,856 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:23:28,434 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:23:51,393 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:25:08,101 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:25:08,515 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    print(deploy_config.result['netconf_edit_config'])
TypeError: 'NoneType' object is not subscriptable

2020-09-21 17:25:08,911 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    print(deploy_config.result['netconf_edit_config'])
TypeError: 'NoneType' object is not subscriptable

2020-09-21 17:26:00,675 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:26:14,672 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:27:17,303 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:27:17,712 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    print(deploy_config['R8_IOSXR_PE'])
TypeError: list indices must be integers or slices, not str

2020-09-21 17:27:18,075 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    print(deploy_config['R8_IOSXR_PE'])
TypeError: list indices must be integers or slices, not str

2020-09-21 17:27:26,667 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:27:27,112 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    print(deploy_config['R8_IOSXR_PE'][0])
TypeError: list indices must be integers or slices, not str

2020-09-21 17:27:27,424 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 92, in iac_render
    print(deploy_config['R8_IOSXR_PE'][0])
TypeError: list indices must be integers or slices, not str

2020-09-21 17:28:07,586 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:33:20,943 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:38:33,392 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:45:50,702 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:48:12,746 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:48:48,654 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    ipdb.set_trace()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/bdb.py", line 92, in trace_dispatch
    return self.dispatch_return(frame, arg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/bdb.py", line 151, in dispatch_return
    self.user_return(frame, arg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 293, in user_return
    self.interaction(frame, None)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/IPython/core/debugger.py", line 291, in interaction
    OldPdb.interaction(self, frame, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 356, in interaction
    self._cmdloop()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 321, in _cmdloop
    self.cmdloop()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/IPython/terminal/debugger.py", line 114, in cmdloop
    line = self.pt_app.prompt()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/shortcuts/prompt.py", line 986, in prompt
    return self.app.run()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 788, in run
    return get_event_loop().run_until_complete(self.run_async(pre_run=pre_run))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 772, in run_async
    return await _run_async2()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 760, in _run_async2
    await self.cancel_and_wait_for_background_tasks()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 840, in cancel_and_wait_for_background_tasks
    await task
RuntimeError: Task <Task pending name='Task-169' coro=<Application.run_async() running at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py:772> cb=[_run_until_complete_cb() at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py:184]> got Future <Task pending name='Task-174' coro=<KeyProcessor._start_timeout.<locals>.wait() running at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/key_binding/key_processor.py:411> wait_for=<Future cancelled>> attached to a different loop

2020-09-21 17:48:56,838 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:49:09,279 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    ipdb.set_trace()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/bdb.py", line 92, in trace_dispatch
    return self.dispatch_return(frame, arg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/bdb.py", line 151, in dispatch_return
    self.user_return(frame, arg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 293, in user_return
    self.interaction(frame, None)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/IPython/core/debugger.py", line 291, in interaction
    OldPdb.interaction(self, frame, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 356, in interaction
    self._cmdloop()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 321, in _cmdloop
    self.cmdloop()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/IPython/terminal/debugger.py", line 114, in cmdloop
    line = self.pt_app.prompt()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/shortcuts/prompt.py", line 986, in prompt
    return self.app.run()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 788, in run
    return get_event_loop().run_until_complete(self.run_async(pre_run=pre_run))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 772, in run_async
    return await _run_async2()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 760, in _run_async2
    await self.cancel_and_wait_for_background_tasks()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 840, in cancel_and_wait_for_background_tasks
    await task
RuntimeError: Task <Task pending name='Task-114' coro=<Application.run_async() running at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py:772> cb=[_run_until_complete_cb() at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py:184]> got Future <Task pending name='Task-119' coro=<KeyProcessor._start_timeout.<locals>.wait() running at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/key_binding/key_processor.py:411> wait_for=<Future cancelled>> attached to a different loop

2020-09-21 17:49:30,010 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:50:08,835 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:50:17,476 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    ipdb.set_trace()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/bdb.py", line 92, in trace_dispatch
    return self.dispatch_return(frame, arg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/bdb.py", line 151, in dispatch_return
    self.user_return(frame, arg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 293, in user_return
    self.interaction(frame, None)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/IPython/core/debugger.py", line 291, in interaction
    OldPdb.interaction(self, frame, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 356, in interaction
    self._cmdloop()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 321, in _cmdloop
    self.cmdloop()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/IPython/terminal/debugger.py", line 114, in cmdloop
    line = self.pt_app.prompt()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/shortcuts/prompt.py", line 986, in prompt
    return self.app.run()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 788, in run
    return get_event_loop().run_until_complete(self.run_async(pre_run=pre_run))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 772, in run_async
    return await _run_async2()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 760, in _run_async2
    await self.cancel_and_wait_for_background_tasks()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 840, in cancel_and_wait_for_background_tasks
    await task
RuntimeError: Task <Task pending name='Task-147' coro=<Application.run_async() running at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py:772> cb=[_run_until_complete_cb() at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py:184]> got Future <Task pending name='Task-151' coro=<KeyProcessor._start_timeout.<locals>.wait() running at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/key_binding/key_processor.py:411> wait_for=<Future pending cb=[<TaskWakeupMethWrapper object at 0x7fb7ea8e9f70>()]>> attached to a different loop

2020-09-21 17:57:16,496 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 17:57:40,538 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    ipdb.set_trace()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/bdb.py", line 92, in trace_dispatch
    return self.dispatch_return(frame, arg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/bdb.py", line 151, in dispatch_return
    self.user_return(frame, arg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 293, in user_return
    self.interaction(frame, None)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/IPython/core/debugger.py", line 291, in interaction
    OldPdb.interaction(self, frame, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 356, in interaction
    self._cmdloop()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 321, in _cmdloop
    self.cmdloop()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/IPython/terminal/debugger.py", line 114, in cmdloop
    line = self.pt_app.prompt()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/shortcuts/prompt.py", line 986, in prompt
    return self.app.run()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 788, in run
    return get_event_loop().run_until_complete(self.run_async(pre_run=pre_run))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 772, in run_async
    return await _run_async2()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 760, in _run_async2
    await self.cancel_and_wait_for_background_tasks()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 840, in cancel_and_wait_for_background_tasks
    await task
RuntimeError: Task <Task pending name='Task-27' coro=<Application.run_async() running at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py:772> cb=[_run_until_complete_cb() at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py:184]> got Future <Task pending name='Task-552' coro=<KeyProcessor._start_timeout.<locals>.wait() running at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/key_binding/key_processor.py:411> wait_for=<Future pending cb=[<TaskWakeupMethWrapper object at 0x7fb6158f2160>()]>> attached to a different loop

2020-09-21 18:01:18,896 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 96, in iac_render
    # if task.host.platform == 'alcatel_sros':
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/bdb.py", line 92, in trace_dispatch
    return self.dispatch_return(frame, arg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/bdb.py", line 151, in dispatch_return
    self.user_return(frame, arg)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 293, in user_return
    self.interaction(frame, None)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/IPython/core/debugger.py", line 291, in interaction
    OldPdb.interaction(self, frame, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 356, in interaction
    self._cmdloop()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/pdb.py", line 321, in _cmdloop
    self.cmdloop()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/IPython/terminal/debugger.py", line 114, in cmdloop
    line = self.pt_app.prompt()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/shortcuts/prompt.py", line 986, in prompt
    return self.app.run()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 788, in run
    return get_event_loop().run_until_complete(self.run_async(pre_run=pre_run))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 772, in run_async
    return await _run_async2()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 760, in _run_async2
    await self.cancel_and_wait_for_background_tasks()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py", line 840, in cancel_and_wait_for_background_tasks
    await task
RuntimeError: Task <Task pending name='Task-54' coro=<Application.run_async() running at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/application/application.py:772> cb=[_run_until_complete_cb() at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/asyncio/base_events.py:184]> got Future <Task pending name='Task-81' coro=<KeyProcessor._start_timeout.<locals>.wait() running at /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/prompt_toolkit/key_binding/key_processor.py:409>> attached to a different loop

2020-09-21 18:01:22,461 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-21 18:01:46,883 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:30:18,685 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:31:22,037 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:31:33,300 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:32:06,950 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:32:07,663 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 112, in iac_render
    if result.ok:
AttributeError: 'str' object has no attribute 'ok'

2020-09-22 12:32:07,728 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 112, in iac_render
    if result.ok:
AttributeError: 'str' object has no attribute 'ok'

2020-09-22 12:34:04,505 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:34:05,230 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 112, in iac_render
    if result.ok:
AttributeError: 'str' object has no attribute 'ok'

2020-09-22 12:34:05,360 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 112, in iac_render
    if result.ok:
AttributeError: 'str' object has no attribute 'ok'

2020-09-22 12:35:54,547 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:35:55,288 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 111, in iac_render
    if result.ok:
AttributeError: 'str' object has no attribute 'ok'

2020-09-22 12:35:55,381 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 111, in iac_render
    if result.ok:
AttributeError: 'str' object has no attribute 'ok'

2020-09-22 12:36:10,139 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:36:10,829 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 111, in iac_render
    if result.ok:
AttributeError: 'str' object has no attribute 'ok'

2020-09-22 12:36:10,911 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 111, in iac_render
    if result.ok:
AttributeError: 'str' object has no attribute 'ok'

2020-09-22 12:44:58,670 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:44:59,418 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 113, in iac_render
    if rpcreply.ok:
AttributeError: 'collections.OrderedDict' object has no attribute 'ok'

2020-09-22 12:44:59,496 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 113, in iac_render
    if rpcreply.ok:
AttributeError: 'collections.OrderedDict' object has no attribute 'ok'

2020-09-22 12:46:30,294 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:47:57,285 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:48:13,467 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:48:40,933 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:48:54,666 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:51:26,122 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 12:51:26,899 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 113, in iac_render
    pp.pprint(json.dumps(xmltodict.parse(result)))
NameError: name 'pp' is not defined

2020-09-22 12:51:26,945 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 113, in iac_render
    pp.pprint(json.dumps(xmltodict.parse(result)))
NameError: name 'pp' is not defined

2020-09-22 12:51:46,353 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 13:02:07,739 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 13:03:28,650 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 13:04:44,788 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 14:00:41,867 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 14:02:57,410 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 14:02:58,121 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 112, in iac_render
    if 'ok' in result:
TypeError: argument of type 'RPCReply' is not iterable

2020-09-22 14:02:58,213 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 112, in iac_render
    if 'ok' in result:
TypeError: argument of type 'RPCReply' is not iterable

2020-09-22 14:03:26,501 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-22 16:32:31,369 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:05:08,943 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:15:33,414 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:15:50,388 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:15:59,034 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:19:08,472 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:19:26,566 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:20:23,165 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:20:59,255 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:22:07,481 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:22:22,423 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:23:50,626 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:23:56,873 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-23 06:24:13,182 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:24:14,210 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-23 06:24:14,877 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-23 06:24:19,343 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:24:19,347 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:24:36,952 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:24:37,983 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-23 06:24:38,782 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-23 06:24:43,030 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:24:43,030 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:27:57,363 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:28:03,440 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:28:03,441 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:28:03,441 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 119, in iac_render
    print(task.run(task=get_vrf, servicename=servicename))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: get_vrf (failed)


2020-09-23 06:31:31,720 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:31:32,798 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 119, in iac_render
    print(task=get_vrf, servicename=servicename)
TypeError: 'task' is an invalid keyword argument for print()

2020-09-23 06:31:33,316 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 119, in iac_render
    print(task=get_vrf, servicename=servicename)
TypeError: 'task' is an invalid keyword argument for print()

2020-09-23 06:32:02,185 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:32:08,246 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:32:08,247 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:32:08,247 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 119, in iac_render
    print(task.run(task=get_vrf, servicename=servicename))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: get_vrf (failed)


2020-09-23 06:32:34,885 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:32:35,965 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 119, in iac_render
    print(get_vrf, servicename=servicename)
TypeError: 'servicename' is an invalid keyword argument for print()

2020-09-23 06:32:36,583 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 119, in iac_render
    print(get_vrf, servicename=servicename)
TypeError: 'servicename' is an invalid keyword argument for print()

2020-09-23 06:32:46,944 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:32:53,043 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:32:53,044 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:32:53,047 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 119, in iac_render
    print(task.run(get_vrf, servicename=servicename))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: get_vrf (failed)


2020-09-23 06:33:16,376 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:33:22,490 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:33:22,491 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:33:22,491 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 119, in iac_render
    print(task.run(task=get_vrf, servicename=servicename))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: get_vrf (failed)


2020-09-23 06:36:05,333 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:36:06,334 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-23 06:36:06,879 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-23 06:36:11,440 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:36:11,441 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:36:47,424 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:36:48,393 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-23 06:36:48,983 -  nornir.core -     INFO -        run() - Running task 'get_vrf' with args {'servicename': 'AVIFI'} on 2 hosts
2020-09-23 06:36:53,490 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:36:53,491 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:37:11,489 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:37:17,503 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:37:17,504 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrf' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 31, in get_vrf
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:37:17,505 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 122, in iac_render
    print_result(task.run(task=get_vrf, servicename=servicename))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: get_vrf (failed)


2020-09-23 06:40:20,844 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:40:26,923 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:40:26,924 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'get_vrfcli' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 30, in get_vrfcli
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:40:26,924 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 111, in iac_render
    print_result(task.run(task=get_vrfcli, servicename=servicename))
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: get_vrfcli (failed)


2020-09-23 06:42:52,141 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:42:58,217 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:42:58,217 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 118, in iac_render
    get_vrfcli(task, servicename)
  File "norconf.py", line 30, in get_vrfcli
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:43:45,107 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:43:51,183 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:43:51,183 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 120, in iac_render
    print_result(get_vrfcli(task, servicename))
  File "norconf.py", line 30, in get_vrfcli
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:45:20,601 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:45:26,669 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:45:26,670 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 120, in iac_render
    print_result(get_vrfcli(task, servicename))
  File "norconf.py", line 30, in get_vrfcli
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:46:48,452 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:46:54,619 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:46:54,620 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 113, in iac_render
    print_result(get_vrfcli(task, servicename))
  File "norconf.py", line 23, in get_vrfcli
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:47:32,622 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:47:38,731 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:47:38,731 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 113, in iac_render
    print_result(get_vrfcli(task, servicename))
  File "norconf.py", line 23, in get_vrfcli
    vrf = task.run(netmiko_send_command, command_string= f"sh vrf {servicename} detail", conn_timeout = '10')
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:48:55,012 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:49:01,086 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:49:01,087 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 113, in iac_render
    print_result(get_vrfcli(task, servicename))
  File "norconf.py", line 23, in get_vrfcli
    vrf = task.run(netmiko_send_command, command_string=f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:50:06,073 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:50:12,087 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:50:12,088 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 113, in iac_render
    print_result(get_vrfcli(task, servicename))
  File "norconf.py", line 23, in get_vrfcli
    vrf = task.run(netmiko_send_command, command_string=f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:51:07,015 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-23 06:51:13,067 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 918, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/client.py", line 412, in connect
    server_key = t.get_remote_server_key()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/paramiko/transport.py", line 834, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 440, in get_connection
    self.open_connection(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/inventory.py", line 492, in open_connection
    conn_obj.open(
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/ssh_dispatcher.py", line 302, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 344, in __init__
    self._open()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 349, in _open
    self.establish_connection()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/cisco/cisco_xr.py", line 9, in establish_connection
    super().establish_connection(width=511, height=511)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/base_connection.py", line 948, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 10 seconds or larger.

2020-09-23 06:51:13,068 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 113, in iac_render
    print_result(get_vrfcli(task, servicename))
  File "norconf.py", line 23, in get_vrfcli
    vrf = task.run(netmiko_send_command, command_string=f"sh vrf {servicename} detail")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:51:13,413 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/utilities.py", line 363, in wrapper_decorator
    return func(self, *args, **kwargs)
TypeError: send_command() got an unexpected keyword argument 'conn_timeout'

2020-09-23 06:51:13,413 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'iac_render' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 109, in iac_render
    get_vprncli(task,servicename)
  File "norconf.py", line 29, in get_vprncli
    vprn = task.run(netmiko_send_command, command_string=f"show service id {servicename} base", conn_timeout = 10)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 06:58:12,267 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 06:58:12,271 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data['VRF']['SERVICE_NAME'])
TypeError: list indices must be integers or slices, not str

2020-09-23 06:58:12,271 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data['VRF']['SERVICE_NAME'])
TypeError: list indices must be integers or slices, not str

2020-09-23 13:58:03,972 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 13:58:03,975 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data['VRF']['SERVICE_NAME'])
TypeError: list indices must be integers or slices, not str

2020-09-23 13:58:03,976 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data['VRF']['SERVICE_NAME'])
TypeError: list indices must be integers or slices, not str

2020-09-23 14:01:43,001 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:01:43,005 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data['VRF']['SERVICE_NAME'])
TypeError: list indices must be integers or slices, not str

2020-09-23 14:01:43,005 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data['VRF']['SERVICE_NAME'])
TypeError: list indices must be integers or slices, not str

2020-09-23 14:02:25,401 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:02:25,404 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data['VRF'])
TypeError: list indices must be integers or slices, not str

2020-09-23 14:02:25,404 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data['VRF'])
TypeError: list indices must be integers or slices, not str

2020-09-23 14:02:32,560 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:02:43,234 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:02:49,909 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:03:00,010 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:03:00,014 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data.result['VRF']['SERVICE-NAME'])
TypeError: list indices must be integers or slices, not str

2020-09-23 14:03:00,015 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data.result['VRF']['SERVICE-NAME'])
TypeError: list indices must be integers or slices, not str

2020-09-23 14:03:20,190 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:03:27,632 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:03:27,635 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data.result['VRF'][0]['SERVICE-NAME'])
KeyError: 'SERVICE-NAME'

2020-09-23 14:03:27,635 - nornir.core.task -    ERROR -      start() - Host 'R8_IOSXR_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 40, in cli_stats
    print(vars_data.result['VRF'][0]['SERVICE-NAME'])
KeyError: 'SERVICE-NAME'

2020-09-23 14:03:35,501 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:04:25,311 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:04:32,099 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/utilities.py", line 363, in wrapper_decorator
    return func(self, *args, **kwargs)
TypeError: send_command() got an unexpected keyword argument 'conn_timeout'

2020-09-23 14:04:32,100 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 44, in cli_stats
    get_vprncli(task, servicename)
  File "norconf.py", line 29, in get_vprncli
    vprn = task.run(netmiko_send_command, command_string=f"show service id {servicename} base", conn_timeout = 10)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 14:04:44,934 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:04:49,866 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/utilities.py", line 363, in wrapper_decorator
    return func(self, *args, **kwargs)
TypeError: send_command() got an unexpected keyword argument 'conn_timeout'

2020-09-23 14:04:49,867 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in cli_stats
    get_vprncli(task, servicename)
  File "norconf.py", line 29, in get_vprncli
    vprn = task.run(netmiko_send_command, command_string=f"show service id {servicename} base", conn_timeout = 10)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 14:05:02,678 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:05:07,573 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/utilities.py", line 363, in wrapper_decorator
    return func(self, *args, **kwargs)
TypeError: send_command() got an unexpected keyword argument 'conn_timeout'

2020-09-23 14:05:07,574 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in cli_stats
    get_vprncli(task, servicename)
  File "norconf.py", line 29, in get_vprncli
    vprn = task.run(netmiko_send_command, command_string=f"show service id {servicename} base", conn_timeout = 10)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 14:06:42,450 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:06:47,395 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/utilities.py", line 363, in wrapper_decorator
    return func(self, *args, **kwargs)
TypeError: send_command() got an unexpected keyword argument 'conn_timeout'

2020-09-23 14:06:47,395 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in cli_stats
    get_vprncli(task, servicename)
  File "norconf.py", line 29, in get_vprncli
    vprn = task.run(netmiko_send_command, command_string=f"show service id {servicename} base", conn_timeout = 10)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 14:08:45,222 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:08:50,162 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/netmiko/utilities.py", line 363, in wrapper_decorator
    return func(self, *args, **kwargs)
TypeError: send_command() got an unexpected keyword argument 'conn_timeout'

2020-09-23 14:08:50,162 - nornir.core.task -    ERROR -      start() - Host 'R3_SROS_PE': task 'cli_stats' failed with traceback:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 98, in start
    r = self.task(self, **self.params)
  File "norconf.py", line 43, in cli_stats
    get_vprncli(task, servicename)
  File "norconf.py", line 29, in get_vprncli
    vprn = task.run(netmiko_send_command, command_string=f"show service id {servicename} base", conn_timeout = 10)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/nornir/core/task.py", line 168, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2020-09-23 14:09:13,888 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:41:28,230 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:41:44,256 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-23 14:45:49,151 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-24 08:37:45,094 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-24 08:37:48,368 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
2020-09-24 08:38:39,329 -  nornir.core -     INFO -        run() - Running task 'iac_render' with args {} on 2 hosts
2020-09-24 08:38:40,814 -  nornir.core -     INFO -        run() - Running task 'cli_stats' with args {} on 2 hosts
